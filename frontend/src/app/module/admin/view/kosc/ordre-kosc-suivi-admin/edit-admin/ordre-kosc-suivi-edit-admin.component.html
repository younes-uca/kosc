<p-dialog [(visible)]="editOrdreKoscDialog" [draggable]="false"
          [maximizable]="true" [modal]="true"
          [resizable]="false" [style]="{width: '70vw'}" header="CDD" styleClass="p-fluid">


    <ng-template pTemplate="content">
        <p-tabView [(activeIndex)]="indexEdit">
            <p-tabPanel header="Information">

                <div class="p-grid">

                    <div class="p-field p-col-12 p-md-3">
                        <label for="1">Order</label>
                        <input [(ngModel)]="selectedOrdreKosc.reference" [disabled]="false" class="p-mb-2 p-mr-2"
                               id="1" pInputText
                               placeholder="Reference Order" type="text"
                        />

                    </div>
                    <div class="p-field p-col-12 p-md-3">
                        <label for="2">Work<span style="color: red;">*</span></label>
                        <input [(ngModel)]="selectedOrdreKosc.referenceWorkOrder" [disabled]="false"
                               [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscReferenceWorkOrder}"
                               class="p-mb-2 p-mr-2"
                               id="2" pInputText
                               placeholder="Reference work order"
                               type="text"/>
                        <small *ngIf='!validOrdreKoscReferenceWorkOrder' class='p-error'>ReferenceWorkOrder est
                            obligatoire.</small>
                    </div>

                    <div class="p-field p-col-11 p-md-2">
                        <label for="999">Technicien</label>
                        <p-dropdown [(ngModel)]="selectedOrdreKosc.technicienVo" [disabled]="false"
                                    [filter]="true" [options]="techniciens" [showClear]="true"
                                    filterMatchMode="contains"
                                    id="999"
                                    optionLabel="identifiant"
                                    placeholder="Technicien">
                        </p-dropdown>

                    </div>
                    <div class="p-col-1">
                        <label></label>
                        <button (click)="openCreateTechnicien('technicien')"
                                class="p-button-success one-colonne-btn-success-align" icon="pi pi-plus"
                                pButton pRipple
                                type="button"></button>
                    </div>

                    <div class="p-field p-col-12 p-md-3">
                        <label for="30">Date rdv</label>
                        <p-calendar [(ngModel)]="selectedOrdreKosc.dateRdv" [disabled]="false" [showSeconds]="false"
                                    [showTime]="true"
                                    dateFormat="{{dateFormat}}" id="30"
                                    placeholder="Date rdv">
                        </p-calendar>

                    </div>

                    <div class="p-field p-col-11 p-md-2">
                        <label for="98">Departement</label>
                        <p-dropdown [(ngModel)]="selectedOrdreKosc.departementVo" [disabled]="false"
                                    [filter]="true" [options]="departements" [showClear]="true"
                                    filterMatchMode="contains" id="98"
                                    optionLabel="libelle"
                                    placeholder="Departement">
                        </p-dropdown>

                    </div>
                    <div class="p-col-1">
                        <label></label>
                        <button (click)="openCreateDepartement('departement')"
                                class="p-button-success one-colonne-btn-success-align" icon="pi pi-plus"
                                pButton pRipple
                                type="button"></button>
                    </div>


                    <div class="p-field p-col-11 p-md-2">
                        <label for="144">Etat demande kosc</label>
                        <p-dropdown [(ngModel)]="selectedOrdreKosc.etatDemandeKoscVo"
                                    [filter]="true"
                                    [options]="etatDemandeKoscs" [showClear]="true" filterMatchMode="contains"
                                    id="144"
                                    optionLabel="libelle"
                                    placeholder="Etat demande kosc">
                        </p-dropdown>

                    </div>
                    <div class="p-col-1">
                        <label></label>
                        <button (click)="openCreateEtatDemandeKosc('etatDemandeKosc')"
                                class="p-button-success one-colonne-btn-success-align" icon="pi pi-plus"
                                pButton pRipple
                                type="button"></button>
                    </div>

                    <div class="p-field p-col-11 p-md-2">
                        <label for="220">Operator</label>
                        <p-dropdown [(ngModel)]="selectedOrdreKosc.operatorVo" [disabled]="false"
                                    [filter]="true" [options]="operators" [showClear]="true"
                                    filterMatchMode="contains"
                                    id="220"
                                    optionLabel="libelle"
                                    placeholder="Operator">
                        </p-dropdown>

                    </div>
                    <div class="p-col-1">
                        <label></label>
                        <button (click)="openCreateOperator('operator')"
                                class="p-button-success one-colonne-btn-success-align" icon="pi pi-plus"
                                pButton pRipple
                                type="button"></button>
                    </div>

                    <div class="p-field p-col-12 p-md-3">
                        <label for="102">Numero serie ont</label>
                        <input [(ngModel)]="selectedOrdreKosc.numeroSerieOnt" [disabled]="false" class="p-mb-2 p-mr-2"
                               id="102" pInputText
                               placeholder="Numero serie ont" type="text"
                        />

                    </div>

                    <div class="p-field p-col-12 p-md-3">
                        <label for="3">Code decharge</label>
                        <input [(ngModel)]="selectedOrdreKosc.codeDecharge" class="p-mb-2 p-mr-2" id="3"
                               pInputText
                               placeholder="Code decharge" type="text"
                        />

                    </div>


                    <!--                    <div class="p-field p-col-12 p-md-3">-->
                    <!--                        <label for="143">Commentaire Kosc</label>-->
                    <!--                        <textarea id="143" pInputTextarea rows="5" cols="30"-->
                    <!--                                  placeholder="Commentaire Kosc (add it to yaml)"-->
                    <!--                                  [(ngModel)]="selectedOrdreKosc.comment"-->
                    <!--                        ></textarea>-->
                    <!--                    </div>-->
                    <div class="p-field p-col-12 p-md-3">
                        <label for="142">Commentaire client</label>
                        <textarea [(ngModel)]="selectedOrdreKosc.commentaireClient" [disabled]="false" cols="30"
                                  id="142"
                                  pInputTextarea placeholder="Commentaire client"
                                  rows="5"
                        ></textarea>

                    </div>

                    <div class="p-field p-col-12 p-md-3">
                        <label for="200">Commentaire operateur</label>
                        <textarea [(ngModel)]="selectedOrdreKosc.commentaireTechnicien" [disabled]="false" cols="30"
                                  id="200" pInputTextarea
                                  placeholder="Commentaire operateur (add it to yaml)"
                                  rows="5"
                        ></textarea>
                    </div>

                    <div class="p-field p-col-12 p-md-3">
                        <label for="25">Submission date</label>
                        <p-calendar [(ngModel)]="selectedOrdreKosc.submissionDate" [disabled]="false"
                                    [showSeconds]="false" [showTime]="true"
                                    dateFormat="{{dateFormat}}" id="25"
                                    placeholder="Submission date">
                        </p-calendar>

                    </div>
                    <!--                    <div class="p-field p-col-11 p-md-2">-->
                    <!--                        <label for="3000">Region</label>-->
                    <!--                        <p-dropdown [options]="regions" [(ngModel)]="selectedOrdreKosc.departementVo"-->
                    <!--                                    id="3000" [filter]="true" filterMatchMode="contains"-->
                    <!--                                    [showClear]="true"-->
                    <!--                                    optionLabel="libelle"-->
                    <!--                                    placeholder="Region">-->
                    <!--                        </p-dropdown>-->

                    <!--                    </div>-->
                    <!--                    <div class="p-col-1">-->
                    <!--                        <label></label>-->
                    <!--                        <button pButton pRipple type="button"-->
                    <!--                                icon="pi pi-plus" (click)="openCreateRegion('region')"-->
                    <!--                                class="p-button-success one-colonne-btn-success-align"></button>-->
                    <!--                    </div>-->


                    <div class="p-field align-inputswitch p-col-12  p-md-3">
                        <div class="label-inputswitch">
                            <label for="49">Racordement long</label>
                        </div>
                        <div class="input-switch">
                            <p-inputSwitch [(ngModel)]="selectedOrdreKosc.racordementLong" [disabled]="false" id="49"
                            >
                            </p-inputSwitch>

                        </div>
                    </div>

                    <div class="p-field p-col-12 p-md-3">
                        <label for="390">Type pbo</label>
                        <input [(ngModel)]="selectedOrdreKosc.typePbo" [disabled]="false" class="p-mb-2 p-mr-2"
                               id="390" pInputText
                               placeholder="Type pbo" type="text"
                        />

                    </div>

                    <div class="p-field p-col-12 p-md-3">
                        <label for="101">Pbo reel</label>
                        <input [(ngModel)]="selectedOrdreKosc.pboReel" [disabled]="false" class="p-mb-2 p-mr-2"
                               id="101" pInputText
                               placeholder="Pbo reel" type="text"
                        />

                    </div>

                    <div class="p-field p-col-12 p-md-3">
                        <label for="100">Date envoi cri</label>
                        <p-calendar [(ngModel)]="selectedOrdreKosc.dateEnvoiCri" [showSeconds]="false" [showTime]="true"
                                    dateFormat="{{dateFormat}}" id="100"
                                    placeholder="Date envoi cri">
                        </p-calendar>

                    </div>
                </div>
            </p-tabPanel>
            <!--            <p-tabPanel header="Cloture">-->
            <!--                <div class="p-grid">-->
            <!--                    <div class="p-field p-col-12 p-md-3">-->
            <!--                        <label for="145">Template email cloture</label>-->
            <!--                        <p-dropdown [(ngModel)]="selectedOrdreKosc.templateEmailClotureVo"-->
            <!--                                    [filter]="true"-->
            <!--                                    [options]="templateEmailClotures" [showClear]="true" filterMatchMode="contains"-->
            <!--                                    id="145"-->
            <!--                                    optionLabel="libelle"-->
            <!--                                    placeholder="Template email cloture">-->
            <!--                        </p-dropdown>-->

            <!--                    </div>-->
            <!--                    <div class="p-col-1">-->
            <!--                        <label></label>-->
            <!--                        <button (click)="openCreateTemplateEmailCloture('templateEmailCloture')"-->
            <!--                                class="p-button-success one-colonne-btn-success-align" icon="pi pi-plus"-->
            <!--                                pButton-->
            <!--                                pRipple-->
            <!--                                type="button"></button>-->
            <!--                    </div>-->
            <!--                    <div class="p-field p-col-12 p-md-3">-->
            <!--                        <label for="146">Objet cloture</label>-->
            <!--                        <input [(ngModel)]="selectedOrdreKosc.objetCloture" class="p-mb-2 p-mr-2" id="146"-->
            <!--                               pInputText-->
            <!--                               placeholder="Objet cloture" type="text"-->
            <!--                        />-->

            <!--                    </div>-->
            <!--                    <div class="p-field p-col-12 p-md-5">-->
            <!--                        <label for="147">Corps cloture</label>-->
            <!--                        <textarea [(ngModel)]="selectedOrdreKosc.corpsCloture" cols="30" id="147" pInputTextarea-->
            <!--                                  placeholder="Corps cloture" rows="10"-->
            <!--                        ></textarea>-->

            <!--                    </div>-->
            <!--                    <div class="p-field align-inputswitch p-col-12  p-md-4">-->
            <!--                        <div class="label-inputswitch">-->
            <!--                            <label for="148">Envoye cloture</label>-->
            <!--                        </div>-->
            <!--                        <div class="input-switch">-->
            <!--                            <p-inputSwitch [(ngModel)]="selectedOrdreKosc.envoyeCloture" id="148"-->
            <!--                            >-->
            <!--                            </p-inputSwitch>-->

            <!--                        </div>-->
            <!--                    </div>-->
            <!--                    <div class="p-field p-col-12 p-md-3">-->
            <!--                        <label for="149">Date envoi cloture</label>-->
            <!--                        <p-calendar [(ngModel)]="selectedOrdreKosc.dateEnvoiCloture" [showSeconds]="false"-->
            <!--                                    [showTime]="true"-->
            <!--                                    dateFormat="{{dateFormat}}"-->
            <!--                                    id="149"-->
            <!--                                    placeholder="Date envoi cloture">-->
            <!--                        </p-calendar>-->

            <!--                    </div>-->
            <!--                    <div class="p-field p-col-12 p-md-5">-->
            <!--                        <label for="143">Commantaire cloture</label>-->
            <!--                        <textarea [(ngModel)]="selectedOrdreKosc.commantaireCloture" cols="30" id="143" pInputTextarea-->
            <!--                                  placeholder="5sena ndiro piece joint"-->
            <!--                                  rows="10"-->
            <!--                        ></textarea>-->

            <!--                    </div>-->
            <!--                    &lt;!&ndash;                            <div class="p-field p-col-12 p-md-3">&ndash;&gt;-->
            <!--                    &lt;!&ndash;                                <label for="150">Email cloture piece joints</label>&ndash;&gt;-->
            <!--                    &lt;!&ndash;                                <input class="p-mb-2 p-mr-2" type="text" pInputText&ndash;&gt;-->
            <!--                    &lt;!&ndash;                                       placeholder="Email cloture piece joints"&ndash;&gt;-->
            <!--                    &lt;!&ndash;                                       id="150" [(ngModel)]="selectedOrdreKosc.emailCloturePieceJoints"&ndash;&gt;-->
            <!--                    &lt;!&ndash;                                />&ndash;&gt;-->

            <!--                    &lt;!&ndash;                            </div>&ndash;&gt;-->
            <!--                </div>-->
            <!--            </p-tabPanel>-->
            <!--            <p-tabPanel header="Suivi">-->
            <!--                <div class="p-grid">-->
            <!--                    <div class="p-field p-col-12 p-md-3">-->
            <!--                        <label for="151">Template suivi</label>-->
            <!--                        <p-dropdown [(ngModel)]="selectedOrdreKosc.templateSuiviVo" [filter]="true"-->
            <!--                                    [options]="templateSuivis" [showClear]="true" filterMatchMode="contains"-->
            <!--                                    id="151"-->
            <!--                                    optionLabel="libelle"-->
            <!--                                    placeholder="Template suivi">-->
            <!--                        </p-dropdown>-->

            <!--                    </div>-->

            <!--                    <div class="p-col-1">-->
            <!--                        <label></label>-->
            <!--                        <button (click)="openCreateTemplateSuivi('templateSuivi')"-->
            <!--                                class="p-button-success one-colonne-btn-success-align" icon="pi pi-plus"-->
            <!--                                pButton pRipple-->
            <!--                                type="button"></button>-->
            <!--                    </div>-->
            <!--                    <div class="p-field p-col-12 p-md-3">-->
            <!--                        <label for="152">Objet suivi</label>-->
            <!--                        <input [(ngModel)]="selectedOrdreKosc.objetSuivi" class="p-mb-2 p-mr-2" id="152"-->
            <!--                               pInputText-->
            <!--                               placeholder="Objet suivi" type="text"-->
            <!--                        />-->

            <!--                    </div>-->
            <!--                    <div class="p-field p-col-12 p-md-5">-->
            <!--                        <label for="153">Corps suivi</label>-->
            <!--                        <textarea [(ngModel)]="selectedOrdreKosc.corpsSuivi" cols="30" id="153" pInputTextarea-->
            <!--                                  placeholder="Corps suivi" rows="10"-->
            <!--                        ></textarea>-->

            <!--                    </div>-->
            <!--                    <div class="p-field align-inputswitch p-col-12  p-md-3">-->
            <!--                        <div class="label-inputswitch">-->
            <!--                            <label for="154">Envoye suivi</label>-->
            <!--                        </div>-->
            <!--                        <div class="input-switch">-->
            <!--                            <p-inputSwitch [(ngModel)]="selectedOrdreKosc.envoyeSuivi" id="154"-->
            <!--                            >-->
            <!--                            </p-inputSwitch>-->

            <!--                        </div>-->
            <!--                    </div>-->
            <!--                    <div class="p-field p-col-12 p-md-3">-->
            <!--                        <label for="155">Date envoi suivi</label>-->
            <!--                        <p-calendar [(ngModel)]="selectedOrdreKosc.dateEnvoiSuivi" [showSeconds]="false"-->
            <!--                                    [showTime]="true"-->
            <!--                                    dateFormat="{{dateFormat}}"-->
            <!--                                    id="155"-->
            <!--                                    placeholder="Date envoi suivi">-->
            <!--                        </p-calendar>-->

            <!--                    </div>-->

            <!--                    <div class="p-col-1">-->
            <!--                        <label></label>-->
            <!--                    </div>-->
            <!--                    <div class="p-field align-inputswitch p-col-12  p-md-3">-->
            <!--                        <div class="label-inputswitch">-->
            <!--                            <label for="154">Annuler envoi email</label>-->
            <!--                        </div>-->
            <!--                        <div class="input-switch">-->
            <!--                            <p-inputSwitch [(ngModel)]="selectedOrdreKosc.existingOtp" id="156"-->
            <!--                            >-->
            <!--                            </p-inputSwitch>-->

            <!--                        </div>-->
            <!--                    </div>-->

            <!--                </div>-->
            <!--            </p-tabPanel>-->
            <p-tabPanel header="Report">
                <p-blockUI [blocked]="blocked"></p-blockUI>
                <div class="p-grid">
                    <p-tabView [(activeIndex)]="indexDemande">
                        <p-tabPanel header="Demande Maneo">
                            <div class="p-grid">
                                <p-tabView [(activeIndex)]="indexManeo">
                                    <p-tabPanel header="Client Injoignable">
                                        <div class="p-grid">
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="45">Date replanification<span
                                                        style="color: red;">*</span></label>
                                                <p-calendar [(ngModel)]="selectedOrdreKosc.dateAppelReplanification"
                                                            [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscDateReplanificationReportDemandeManeoClientInjoignable}"
                                                            [showSeconds]="false"
                                                            [showTime]="true"
                                                            dateFormat="{{dateFormat}}"
                                                            id="45"
                                                            placeholder="Date replanification">
                                                </p-calendar>
                                                <small *ngIf='!validOrdreKoscDateReplanificationReportDemandeManeoClientInjoignable'
                                                       class='p-error'>Date replanification est
                                                    obligatoire.</small>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="129">De<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.fromReportDemandeManeoClientInjoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscFromReportDemandeManeoClientInjoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="129"
                                                       pInputText placeholder="De"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscFromReportDemandeManeoClientInjoignable'
                                                       class='p-error'>De est
                                                    obligatoire.</small>
                                            </div>


                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="130">A<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.toReportDemandeManeoClientInjoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscToReportDemandeManeoClientInjoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="130"
                                                       pInputText placeholder="A"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscToReportDemandeManeoClientInjoignable'
                                                       class='p-error'>A est obligatoire.</small>
                                            </div>

                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="137">Objet<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.objetReportDemandeManeoClientInjoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscObjetReportDemandeManeoClientInjoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="137"
                                                       pInputText
                                                       placeholder="Objet" type="text"
                                                /><small *ngIf='!validOrdreKoscObjetReportDemandeManeoClientInjoignable'
                                                         class='p-error'>Objet est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-12">
                                                <label for="63">Corps<span style="color: red;">*</span></label>
                                                <textarea
                                                        [(ngModel)]="selectedOrdreKosc.corpsReportDemandeManeoClientInjoignable"
                                                        [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscCorpsReportDemandeManeoClientInjoignable}"
                                                        cols="30" id="63"
                                                        pInputTextarea
                                                        placeholder="Corps"
                                                        rows="10"
                                                ></textarea><small
                                                    *ngIf='!validOrdreKoscCorpsReportDemandeManeoClientInjoignable'
                                                    class='p-error'>Corps est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <button (click)="sendMailReportDemandeManeoClientInjoignable()"
                                                        class="p-button-help"
                                                        icon="pi pi-send" label="Envoyer"
                                                        pButton
                                                        type="button"></button>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <p-progressSpinner *ngIf="showSpinner"
                                                                   [style]="{width: '50px', height: '50px'}"
                                                                   styleClass="custom-spinner" strokeWidth="8"
                                                                   fill="#EEEEEE"
                                                                   animationDuration=".5s"></p-progressSpinner>


                                            </div>
                                        </div>
                                    </p-tabPanel>
                                    <p-tabPanel header="Client Joignable Accepte">
                                        <div class="p-grid">
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="45">Date replanification<span
                                                        style="color: red;">*</span></label>
                                                <p-calendar [(ngModel)]="selectedOrdreKosc.dateAppelReplanification"
                                                            [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscDateReplanificationReportDemandeManeoClientJoignableAccepte}"

                                                            [showSeconds]="false"
                                                            [showTime]="true"
                                                            dateFormat="{{dateFormat}}"
                                                            id="45"
                                                            placeholder="Date replanification">
                                                </p-calendar>
                                                <small *ngIf='!validOrdreKoscDateReplanificationReportDemandeManeoClientJoignableAccepte'
                                                       class='p-error'>Date replanification est
                                                    obligatoire.</small>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="129">De<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.fromReportDemandeManeoClientJoignableAccepte"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscFromReportDemandeManeoClientJoignableAccepte}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="129"
                                                       pInputText placeholder="De"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscFromReportDemandeManeoClientJoignableAccepte'
                                                       class='p-error'>De est obligatoire.</small>
                                            </div>


                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="130">A<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.toReportDemandeManeoClientJoignableAccepte"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscToReportDemandeManeoClientJoignableAccepte}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="130"
                                                       pInputText placeholder="A"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscToReportDemandeManeoClientJoignableAccepte'
                                                       class='p-error'>A est obligatoire.</small>
                                            </div>

                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="137">Objet<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.objetReportDemandeManeoClientJoignableAccepte"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscObjetReportDemandeManeoClientJoignableAccepte}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="137"
                                                       pInputText
                                                       placeholder="Objet" type="text"
                                                /><small
                                                    *ngIf='!validOrdreKoscObjetReportDemandeManeoClientJoignableAccepte'
                                                    class='p-error'>Objet est obligatoire.</small>
                                            </div>
                                            <div class="p-field p-col-12 p-md-8">
                                                <label for="63">Corps<span style="color: red;">*</span></label>
                                                <textarea
                                                        [(ngModel)]="selectedOrdreKosc.corpsReportDemandeManeoClientJoignableAccepte"
                                                        [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscCorpsReportDemandeManeoClientJoignableAccepte}"

                                                        cols="30" id="63"
                                                        pInputTextarea
                                                        placeholder="Corps"
                                                        rows="10"
                                                ></textarea><small
                                                    *ngIf='!validOrdreKoscCorpsReportDemandeManeoClientJoignableAccepte'
                                                    class='p-error'>Corps est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <button (click)="sendMailReportDemandeManeoClientJoignableAccepte()"
                                                        class="p-button-help"
                                                        icon="pi pi-send" label="Envoyer"
                                                        pButton
                                                        type="button"></button>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <p-progressSpinner *ngIf="showSpinner"
                                                                   [style]="{width: '50px', height: '50px'}"
                                                                   styleClass="custom-spinner" strokeWidth="8"
                                                                   fill="#EEEEEE"
                                                                   animationDuration=".5s"></p-progressSpinner>


                                            </div>
                                        </div>
                                    </p-tabPanel>
                                    <p-tabPanel header="Client Joignable Refuse">
                                        <div class="p-grid">
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="45">Date replanification<span
                                                        style="color: red;">*</span></label>
                                                <p-calendar [(ngModel)]="selectedOrdreKosc.dateAppelReplanification"
                                                            [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscDateReplanificationReportDemandeManeoClientJoignableRefus}"

                                                            [showSeconds]="false"
                                                            [showTime]="true"
                                                            dateFormat="{{dateFormat}}"
                                                            id="45"
                                                            placeholder="Date replanification">
                                                </p-calendar>
                                                <small *ngIf='!validOrdreKoscDateReplanificationReportDemandeManeoClientJoignableRefus'
                                                       class='p-error'>Date replanification est obligatoire.</small>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="129">De<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.fromReportDemandeManeoClientJoignableRefus"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscFromReportDemandeManeoClientJoignableRefus}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="129"
                                                       pInputText placeholder="De"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscFromReportDemandeManeoClientJoignableRefus'
                                                       class='p-error'>De est obligatoire.</small>
                                            </div>


                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="130">A<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.toReportDemandeManeoClientJoignableRefus"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscToReportDemandeManeoClientJoignableRefus}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="130"
                                                       pInputText placeholder="A"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscToReportDemandeManeoClientJoignableRefus'
                                                       class='p-error'>A est obligatoire.</small>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="137">Objet<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.objetReportDemandeManeoClientJoignableRefus"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscObjetReportDemandeManeoClientJoignableRefus}"

                                                       class="p-mb-2 p-mr-2"
                                                       id="137"
                                                       pInputText
                                                       placeholder="Objet" type="text"
                                                /><small
                                                    *ngIf='!validOrdreKoscObjetReportDemandeManeoClientJoignableRefus'
                                                    class='p-error'>Objet est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-8">
                                                <label for="63">Corps<span style="color: red;">*</span></label>
                                                <textarea
                                                        [(ngModel)]="selectedOrdreKosc.corpsReportDemandeManeoClientJoignableRefus"
                                                        [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscCorpsReportDemandeManeoClientJoignableRefus}"
                                                        cols="30" id="63"
                                                        pInputTextarea
                                                        placeholder="Corps"
                                                        rows="10"
                                                ></textarea><small
                                                    *ngIf='!validOrdreKoscCorpsReportDemandeManeoClientJoignableRefus'
                                                    class='p-error'>Corps est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <button (click)="sendMailReportDemandeManeoClientJoignableRefus()"
                                                        class="p-button-help"
                                                        icon="pi pi-send" label="Envoyer"
                                                        pButton
                                                        type="button"></button>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <p-progressSpinner *ngIf="showSpinner"
                                                                   [style]="{width: '50px', height: '50px'}"
                                                                   styleClass="custom-spinner" strokeWidth="8"
                                                                   fill="#EEEEEE"
                                                                   animationDuration=".5s"></p-progressSpinner>


                                            </div>
                                        </div>
                                    </p-tabPanel>
                                </p-tabView>
                            </div>
                        </p-tabPanel>
                        <p-tabPanel header="Demande Client">
                            <div class="p-grid">
                                <p-tabView [(activeIndex)]="indexClient">
                                    <p-tabPanel header="Client Injoignable">
                                        <div class="p-grid">
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="45">Date replanification<span
                                                        style="color: red;">*</span></label>
                                                <p-calendar [(ngModel)]="selectedOrdreKosc.dateAppelReplanification"
                                                            [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscDateReplanificationReportDemandeClientClientInjoignable}"
                                                            [showSeconds]="false"
                                                            [showTime]="true"
                                                            dateFormat="{{dateFormat}}"
                                                            id="45"
                                                            placeholder="Date replanification">
                                                </p-calendar>
                                                <small *ngIf='!validOrdreKoscDateReplanificationReportDemandeClientClientInjoignable'
                                                       class='p-error'>Date replanification est
                                                    obligatoire.</small>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="129">De<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.fromReportDemandeClientClientInjoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscFromReportDemandeClientClientInjoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="129"
                                                       pInputText placeholder="De"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscFromReportDemandeClientClientInjoignable'
                                                       class='p-error'>De est
                                                    obligatoire.</small>
                                            </div>


                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="130">A<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.toReportDemandeClientClientInjoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscToReportDemandeClientClientInjoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="130"
                                                       pInputText placeholder="A"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscToReportDemandeClientClientInjoignable'
                                                       class='p-error'>A est obligatoire.</small>
                                            </div>

                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="137">Objet<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.objetReportDemandeClientClientInjoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscObjetReportDemandeClientClientInjoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="137"
                                                       pInputText
                                                       placeholder="Objet" type="text"
                                                /> <small
                                                    *ngIf='!validOrdreKoscObjetReportDemandeClientClientInjoignable'
                                                    class='p-error'>Objet est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-8">
                                                <label for="63">Corps<span style="color: red;">*</span></label>
                                                <textarea
                                                        [(ngModel)]="selectedOrdreKosc.corpsReportDemandeClientClientInjoignable"
                                                        [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscCorpsReportDemandeClientClientInjoignable}"
                                                        cols="30" id="63"
                                                        pInputTextarea
                                                        placeholder="Corps"
                                                        rows="10"
                                                ></textarea><small
                                                    *ngIf='!validOrdreKoscCorpsReportDemandeClientClientInjoignable'
                                                    class='p-error'>Corps est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <button (click)="sendMailReportDemandeClientClientInjoignable()"
                                                        class="p-button-help"
                                                        icon="pi pi-send" label="Envoyer"
                                                        pButton
                                                        type="button"></button>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <p-progressSpinner *ngIf="showSpinner"
                                                                   [style]="{width: '50px', height: '50px'}"
                                                                   styleClass="custom-spinner" strokeWidth="8"
                                                                   fill="#EEEEEE"
                                                                   animationDuration=".5s"></p-progressSpinner>


                                            </div>
                                        </div>
                                    </p-tabPanel>
                                    <p-tabPanel header="Client Joignable">
                                        <div class="p-grid">
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="45">Date replanification<span
                                                        style="color: red;">*</span></label>
                                                <p-calendar [(ngModel)]="selectedOrdreKosc.dateAppelReplanification"
                                                            [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscDateReplanificationReportDemandeClientClientJoignable}"

                                                            [showSeconds]="false"
                                                            [showTime]="true"
                                                            dateFormat="{{dateFormat}}"
                                                            id="45"
                                                            placeholder="Date replanification">
                                                </p-calendar>
                                                <small *ngIf='!validOrdreKoscDateReplanificationReportDemandeClientClientJoignable'
                                                       class='p-error'>Date replanification est obligatoire.</small>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="129">De<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.fromReportDemandeClientClientJoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscFromReportDemandeClientClientJoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="129"
                                                       pInputText placeholder="De"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscFromReportDemandeClientClientJoignable'
                                                       class='p-error'>De est
                                                    obligatoire.</small>
                                            </div>


                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="130">A<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.toReportDemandeClientClientJoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscToReportDemandeClientClientJoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="130"
                                                       pInputText placeholder="A"
                                                       type="text"/>
                                                <small *ngIf='!validOrdreKoscToReportDemandeClientClientJoignable'
                                                       class='p-error'>A est obligatoire.</small>
                                            </div>

                                            <div class="p-field p-col-12 p-md-4">
                                                <label for="137">Objet<span style="color: red;">*</span></label>
                                                <input [(ngModel)]="selectedOrdreKosc.objetReportDemandeClientClientJoignable"
                                                       [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscObjetReportDemandeClientClientJoignable}"
                                                       class="p-mb-2 p-mr-2"
                                                       id="137"
                                                       pInputText
                                                       placeholder="Objet" type="text"
                                                /> <small *ngIf='!validOrdreKoscObjetReportDemandeClientClientJoignable'
                                                          class='p-error'>Objet est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-8">
                                                <label for="63">Corps<span style="color: red;">*</span></label>
                                                <textarea
                                                        [(ngModel)]="selectedOrdreKosc.corpsReportDemandeClientClientJoignable"
                                                        [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscCorpsReportDemandeClientClientJoignable}"
                                                        cols="30" id="63"
                                                        pInputTextarea
                                                        placeholder="Corps"
                                                        rows="10"
                                                ></textarea><small
                                                    *ngIf='!validOrdreKoscCorpsReportDemandeClientClientJoignable'
                                                    class='p-error'>Corps est obligatoire.</small>

                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <button (click)="sendMailReportDemandeClientClientJoignable()"
                                                        class="p-button-help"
                                                        icon="pi pi-send" label="Envoyer"
                                                        pButton
                                                        type="button"></button>
                                            </div>
                                            <div class="p-field p-col-12 p-md-4">
                                                <p-progressSpinner *ngIf="showSpinner"
                                                                   [style]="{width: '50px', height: '50px'}"
                                                                   styleClass="custom-spinner" strokeWidth="8"
                                                                   fill="#EEEEEE"
                                                                   animationDuration=".5s"></p-progressSpinner>


                                            </div>
                                        </div>
                                    </p-tabPanel>

                                </p-tabView>

                            </div>
                        </p-tabPanel>
                    </p-tabView>
                </div>
            </p-tabPanel>
            <p-tabPanel header="Replanification">
                <div class="p-grid">
                    <div class="p-field p-col-12 p-md-4">
                        <label for="45">Date replanification<span style="color: red;">*</span></label>
                        <p-calendar [(ngModel)]="selectedOrdreKosc.dateAppelReplanification" [showSeconds]="false"
                                    [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscDateReplanificationReplanification}"
                                    [showTime]="true"
                                    dateFormat="{{dateFormat}}"
                                    id="45"
                                    placeholder="Date replanification">
                        </p-calendar>
                        <small *ngIf='!validOrdreKoscDateReplanificationReplanification'
                               class='p-error'>Date replanification est
                            obligatoire.</small>
                    </div>
                    <div class="p-field p-col-12 p-md-4">
                        <label for="65">De<span style="color: red;">*</span></label>
                        <input [(ngModel)]="selectedOrdreKosc.fromReplanification"
                               [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscFromReplanification}"
                               class="p-mb-2 p-mr-2"
                               id="65"
                               pInputText placeholder="De"
                               type="text"/>
                        <small *ngIf='!validOrdreKoscFromReplanification' class='p-error'>De est
                            obligatoire.</small>
                    </div>


                    <div class="p-field p-col-12 p-md-4">
                        <label for="64">A<span style="color: red;">*</span></label>
                        <input [(ngModel)]="selectedOrdreKosc.toReplanification"
                               [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscToReplanification}"
                               class="p-mb-2 p-mr-2"
                               id="64"
                               pInputText placeholder="A"
                               type="text"/>
                        <small *ngIf='!validOrdreKoscToReplanification' class='p-error'>A est
                            obligatoire.</small>
                    </div>

                    <div class="p-field p-col-12 p-md-4">
                        <label for="132">Objet<span style="color: red;">*</span></label>
                        <input [(ngModel)]="selectedOrdreKosc.objetReplanification"
                               [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscObjetReplanification}"
                               class="p-mb-2 p-mr-2" id="132"
                               pInputText
                               placeholder="Objet" type="text"
                        /> <small *ngIf='!validOrdreKoscObjetReplanification' class='p-error'>Objet est
                        obligatoire.</small>

                    </div>
                    <div class="p-field p-col-12 p-md-8">
                        <label for="133">Corps<span style="color: red;">*</span></label>
                        <textarea [(ngModel)]="selectedOrdreKosc.corpsReplanification" cols="30"
                                  [ngClass]="{'ng-invalid ng-dirty' : !validOrdreKoscCorpsReplanification}"
                                  id="133" pInputTextarea
                                  placeholder="Corps"
                                  rows="10"
                        ></textarea> <small *ngIf='!validOrdreKoscCorpsReplanification' class='p-error'>Corps est
                        obligatoire.</small>

                    </div>
                    <div class="p-field p-col-12 p-md-4">
                        <button (click)="sendMailReplanification()" class="p-button-help"
                                icon="pi pi-send" label="Envoyer"
                                pButton
                                type="button"></button>
                    </div>
                    <div class="p-field p-col-12 p-md-4">
                        <p-progressSpinner *ngIf="showSpinner"
                                           [style]="{width: '50px', height: '50px'}"
                                           styleClass="custom-spinner" strokeWidth="8"
                                           fill="#EEEEEE"
                                           animationDuration=".5s"></p-progressSpinner>


                    </div>
                </div>
            </p-tabPanel>
        </p-tabView>

    </ng-template>

    <ng-template pTemplate="footer">
        <div class="p-grid">
            <div>
                <button (click)="hideEditDialog()" class="p-button-text" icon="pi pi-times" label="Annuler"
                        pButton pRipple></button>
            </div>
            <div>
                <button (click)="edit()" icon="pi pi-check" label="Valider" pButton pRipple
                        style="margin:5px"></button>
            </div>
            <div style="margin:5px">
                <p-splitButton label="Report Demande Maneo" icon="pi pi-ban" styleClass="p-button-warning"
                               [model]="ReportDemandeManeo"></p-splitButton>
            </div>
            <div style="margin:5px">
                <p-splitButton label="Report Demande Client" icon="pi pi-ban" styleClass="p-button-danger"
                               [model]="ReportDemandeClient"></p-splitButton>
            </div>

            <div style="margin:5px">
                <button pButton pRipple label="Replanifier" icon="pi pi-thumbs-up" class="p-button-success"
                        (click)="goToMailReplanification()"></button>
            </div>
        </div>
    </ng-template>

    <app-operator-create-admin></app-operator-create-admin>
    <app-departement-create-admin></app-departement-create-admin>
    <app-technicien-create-admin></app-technicien-create-admin>
    <app-region-create-admin></app-region-create-admin>
    <app-template-email-client-injoinable-create-admin></app-template-email-client-injoinable-create-admin>
    <app-template-email-planification-create-admin></app-template-email-planification-create-admin>
    <app-template-email-replanification-create-admin></app-template-email-replanification-create-admin>
    <app-etat-demande-kosc-create-admin></app-etat-demande-kosc-create-admin>
    <app-template-email-cloture-create-admin></app-template-email-cloture-create-admin>
    <app-template-suivi-create-admin></app-template-suivi-create-admin>


</p-dialog>
